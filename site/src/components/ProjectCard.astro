---
import Card from './Card.astro';

interface Props {
  title: string;
  description: string;
  link: string;
  badge?: string;
  icon?: string;
  tags?: string[];
}

const { title, description, link, badge, icon, tags } = Astro.props;
---

<Card tag="a" href={link} variant="project" icon={icon} title={title} iconSize={18}>
  <div class="flex min-h-0 flex-1 flex-col">
    <div class="flex items-start justify-between gap-3">
      <div class="min-w-0 flex-1">
        <p class="project-card-desc mt-1.5 text-muted-foreground line-clamp-2">
          {description}
        </p>
      </div>
      {badge && (
        <span class="shrink-0 rounded-full bg-primary/10 px-2.5 py-0.5 text-xs font-medium text-primary">
          {badge}
        </span>
      )}
    </div>
    {tags && tags.length > 0 && (
      <div class="mt-3 flex flex-wrap gap-1.5">
        {tags.map((tag) => (
          <span class="tag-pill">{tag}</span>
        ))}
      </div>
    )}
  </div>
  <span slot="footer" class="mt-auto inline-flex items-center pt-3 font-medium text-primary group-hover:underline project-card-cta">
    Learn more
    <svg class="ml-1 h-3.5 w-3.5 shrink-0 transition-transform group-hover:translate-x-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </span>
</Card>
